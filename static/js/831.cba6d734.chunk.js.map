{"version":3,"file":"static/js/831.cba6d734.chunk.js","mappings":"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","sources":["components/TeacherCard/Review.jsx","components/TeacherCard/Level.jsx","components/TeacherCard/TeacherCard.jsx","components/TeachersList/TeachersList.jsx","pages/TeachersPage/TeachersPage.jsx"],"sourcesContent":["import React from 'react';\n\nconst Review = ({ review }) => {\n  return (\n    <div>\n      <p>{review.reviewer_name}</p>\n      <p>{review.reviewer_rating}</p>\n      <p>{review.comment}</p>\n    </div>\n  );\n};\n\nexport default Review;\n","import React from 'react';\n\nconst Level = ({ level }) => {\n  return (\n    <div>\n      <span>{level}</span>\n    </div>\n  );\n};\n\nexport default Level;\n","// import React from 'react';\nimport Review from './Review';\nimport Level from './Level';\nimport { updateFavorites } from '../../fire_base/users';\nimport { useAuth } from 'providers';\n\nconst TeacherCard = ({ teacher }) => {\n  const { user } = useAuth();\n  const favorites = Array.isArray(user?.favorites) ? user.favorites : [];\n\n  const onToggleFavorites = () => {\n    const isFavorite = favorites.some(t => t.id === teacher.id);\n    let updatedFavorites;\n\n    if (isFavorite) {\n      // Видаляємо вчителя зі списку улюблених\n      updatedFavorites = favorites.filter(t => t.id !== teacher.id);\n    } else {\n      // Додаємо вчителя до списку улюблених\n      updatedFavorites = [...favorites, teacher];\n    }\n\n    // Оновлюємо список улюблених у базі даних\n    updateFavorites(user.id, updatedFavorites);\n  };\n\n  const isFavorite = favorites.some(t => t.id === teacher.id);\n\n  return (\n    <section>\n      <div>\n        <img src={teacher.avatar_url} alt={teacher.name} width={50} />\n      </div>\n      <div>\n        <span>Lessons online</span>\n        <span>Lessons done: {teacher.lessons_done}</span>\n        <span>Rating: {teacher.rating}</span>\n        <span>Price/1hour: {teacher.price_per_hour}</span>\n        <span></span>\n      </div>\n      <div>\n        <p>Languages</p>\n        <h2>\n          {teacher.name} {teacher.surname}\n        </h2>\n        <p>Speaks: {teacher.languages.join(', ')}</p>\n        <p>Lesson Info: {teacher.lesson_info}</p>\n        <p>{teacher.experience}</p>\n      </div>\n      <div>\n        {teacher.reviews.map((review, index) => (\n          <Review key={index} review={review} />\n        ))}\n      </div>\n      <div>\n        {teacher.levels.map((level, index) => (\n          <Level key={index} level={level} />\n        ))}\n      </div>\n      <button onClick={onToggleFavorites}>\n        {isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n      </button>\n      <button>Book trial lesson</button>\n    </section>\n  );\n};\n\nexport default TeacherCard;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { database } from '../../fire_base/config';\nimport {\n  ref,\n  get,\n  limitToFirst,\n  query,\n  startAfter,\n  orderByKey,\n} from 'firebase/database';\nimport TeacherCard from 'components/TeacherCard/TeacherCard';\n\nconst PER_PAGE = 4;\n\nconst TeachersList = () => {\n  const [teachers, setTeachers] = useState([]);\n  const [lastId, setLastId] = useState(null);\n\n  const onLoadMore = async () => {\n    setLastId(teachers[teachers.length - 1].id);\n  };\n\n  const firstRender = useRef(true);\n\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n    const fetchTeachers = async () => {\n      const constraints = [orderByKey(), limitToFirst(PER_PAGE)];\n      if (lastId) constraints.push(startAfter(lastId));\n      try {\n        const teachersRef = query(ref(database, 'teachers'), ...constraints);\n        const snapshot = await get(teachersRef);\n\n        const data = snapshot.val();\n\n        if (snapshot.exists()) {\n          const normalizeData = Object.entries(data).map(([key, value]) => ({\n            id: key,\n            ...value,\n          }));\n          setTeachers(prev => [...prev, ...normalizeData]);\n          //    setLastId(teachers[teachers.length - 1].id);\n        }\n      } catch (error) {\n        console.error('Error fetching teachers:', error);\n      }\n    };\n\n    fetchTeachers();\n  }, [lastId]);\n\n  return (\n    <div>\n      {teachers.map(teacher => (\n        <TeacherCard key={teacher.id} teacher={teacher} />\n      ))}\n      <button\n        onClick={() => {\n          onLoadMore();\n        }}\n      >\n        LOAD MORE\n      </button>\n    </div>\n  );\n};\n\nexport default TeachersList;\n","import TeachersList from 'components/TeachersList/TeachersList';\nimport React from 'react';\n\nconst TeachersPage = () => {\n  return (\n    <div>\n      <TeachersList />\n    </div>\n  );\n};\n\nexport default TeachersPage;\n"],"names":["_ref","review","_jsxs","children","_jsx","reviewer_name","reviewer_rating","comment","level","teacher","user","useAuth","favorites","Array","isArray","isFavorite","some","t","id","src","avatar_url","alt","name","width","lessons_done","rating","price_per_hour","surname","languages","join","lesson_info","experience","reviews","map","index","Review","levels","Level","onClick","updatedFavorites","filter","concat","_toConsumableArray","updateFavorites","_useState","useState","_useState2","_slicedToArray","teachers","setTeachers","_useState3","_useState4","lastId","setLastId","onLoadMore","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","length","stop","apply","arguments","firstRender","useRef","useEffect","current","fetchTeachers","_ref2","_callee2","constraints","teachersRef","snapshot","data","normalizeData","_context2","orderByKey","limitToFirst","push","startAfter","query","ref","database","get","sent","val","exists","Object","entries","_ref3","_ref4","key","value","_objectSpread","t0","console","error","TeacherCard","TeachersList"],"sourceRoot":""}