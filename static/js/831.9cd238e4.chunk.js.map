{"version":3,"file":"static/js/831.9cd238e4.chunk.js","mappings":"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","sources":["components/TeacherCard/Review.jsx","components/TeacherCard/Level.jsx","components/TeacherCard/TeacherCard.jsx","components/TeachersList/TeachersList.jsx","pages/TeachersPage/TeachersPage.jsx"],"sourcesContent":["import React from 'react';\n\nconst Review = ({ review }) => {\n  return (\n    <div>\n      <p>{review.reviewer_name}</p>\n      <p>{review.reviewer_rating}</p>\n      <p>{review.comment}</p>\n    </div>\n  );\n};\n\nexport default Review;\n","import React from 'react';\n\nconst Level = ({ level }) => {\n  return (\n    <div>\n      <span>{level}</span>\n    </div>\n  );\n};\n\nexport default Level;\n","// import React from 'react';\nimport Review from './Review';\nimport Level from './Level';\nimport { updateFavorites } from '../../fire_base/users';\nimport { useAuth } from 'providers';\n\nconst TeacherCard = ({ teacher, favorite }) => {\n  const { user } = useAuth();\n  const favorites = Array.isArray(user?.favorites) ? user.favorites : [];\n\n  const onToggleFavorites = () => {\n    const isFavorite = favorites.some(t => t.id === teacher.id);\n    let updatedFavorites;\n\n    if (isFavorite) {\n      // Видаляємо вчителя зі списку улюблених\n      updatedFavorites = favorites.filter(t => t.id !== teacher.id);\n    } else {\n      // Додаємо вчителя до списку улюблених\n      updatedFavorites = [...favorites, teacher];\n    }\n\n    // Оновлюємо список улюблених у базі даних\n    updateFavorites(user.id, updatedFavorites);\n  };\n\n  const isFavorite = favorites.some(t => t.id === teacher.id);\n\n  const onSignIn = () => {\n    return alert('Please register or sign in');\n  };\n\n  return (\n    <section>\n      <div>\n        <img src={teacher.avatar_url} alt={teacher.name} width={50} />\n      </div>\n      <div>\n        <span>Lessons online</span>\n        <span>Lessons done: {teacher.lessons_done}</span>\n        <span>Rating: {teacher.rating}</span>\n        <span>Price/1hour: {teacher.price_per_hour}</span>\n        <span></span>\n      </div>\n      <div>\n        <p>Languages</p>\n        <h2>\n          {teacher.name} {teacher.surname}\n        </h2>\n        <p>Speaks: {teacher.languages.join(', ')}</p>\n        <p>Lesson Info: {teacher.lesson_info}</p>\n        <p>{teacher.experience}</p>\n      </div>\n      <div>\n        {teacher.reviews.map((review, index) => (\n          <Review key={index} review={review} />\n        ))}\n      </div>\n      <div>\n        {teacher.levels.map((level, index) => (\n          <Level key={index} level={level} />\n        ))}\n      </div>\n      {user && !favorite && (\n        <button onClick={onToggleFavorites}>\n          {isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n        </button>\n      )}\n      {!user && !favorite && (\n        <button onClick={onSignIn}>\n          {isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n        </button>\n      )}\n      <button>Book trial lesson</button>\n    </section>\n  );\n};\n\nexport default TeacherCard;\n","import React, { useEffect, useState } from 'react';\nimport { database } from '../../fire_base/config';\nimport {\n  ref,\n  get,\n  limitToFirst,\n  query,\n  startAfter,\n  orderByKey,\n} from 'firebase/database';\nimport TeacherCard from 'components/TeacherCard/TeacherCard';\n\nconst PER_PAGE = 4;\n\nconst TeachersList = ({ favorite }) => {\n  const [teachers, setTeachers] = useState([]);\n  const [lastId, setLastId] = useState(null);\n  const [allTeachers, setAllTeachers] = useState([]);\n\n  const onLoadMore = async () => {\n    const q = query(\n      ref(database, 'teachers'),\n      orderByKey(),\n      startAfter(lastId),\n      limitToFirst(PER_PAGE)\n    );\n\n    const snapshot = await get(q);\n    const data = snapshot.val();\n\n    if (snapshot.exists()) {\n      const normalizeData = Object.entries(data).map(([key, value]) => ({\n        id: key,\n        ...value,\n      }));\n      setTeachers(prev => [...prev, ...normalizeData]);\n      setLastId(normalizeData[normalizeData.length - 1]?.id);\n      console.log(teachers);\n    }\n  };\n\n  useEffect(() => {\n    const fetchTeachers = async () => {\n      try {\n        const teachersRef = query(\n          ref(database, 'teachers'),\n          orderByKey(),\n          limitToFirst(PER_PAGE)\n        );\n        const snapshot = await get(teachersRef);\n        const data = snapshot.val();\n\n        if (snapshot.exists()) {\n          const normalizeData = Object.entries(data).map(([key, value]) => ({\n            id: key,\n            ...value,\n          }));\n          setTeachers(prev => [...prev, ...normalizeData]);\n          setLastId(normalizeData[normalizeData.length - 1].id);\n        }\n      } catch (error) {\n        console.log('Error fetching teachers:', error);\n      }\n    };\n    fetchTeachers();\n  }, []);\n\n  const fetchAllTeachers = async () => {\n    try {\n      const allTeachersRef = ref(database, 'teachers');\n      const allSnapshot = await get(allTeachersRef);\n      const allTeachersData = [];\n\n      allSnapshot.forEach(childSnapshot => {\n        allTeachersData.push(childSnapshot.val());\n      });\n\n      setAllTeachers(allTeachersData);\n    } catch (error) {\n      console.error('Error fetching teachers:', error);\n    }\n  };\n  fetchAllTeachers();\n  // const onLoadMore = async () => {\n  //   setLastId(teachers[teachers.length - 1].id);\n  // };\n\n  // const firstRender = useRef(true);\n\n  // useEffect(() => {\n  //   if (firstRender.current) {\n  //     firstRender.current = false;\n  //     return;\n  //   }\n  //   const fetchTeachers = async () => {\n  //     const constraints = [orderByKey(), limitToFirst(PER_PAGE)];\n  //     if (lastId) constraints.push(startAfter(lastId));\n  //     try {\n  //       const teachersRef = query(ref(database, 'teachers'), ...constraints);\n  //       const snapshot = await get(teachersRef);\n\n  //       const data = snapshot.val();\n\n  //       if (snapshot.exists()) {\n  //         const normalizeData = Object.entries(data).map(([key, value]) => ({\n  //           id: key,\n  //           ...value,\n  //         }));\n  //         setTeachers(prev => [...prev, ...normalizeData]);\n  //         //    setLastId(teachers[teachers.length - 1].id);\n  //       }\n  //     } catch (error) {\n  //       console.error('Error fetching teachers:', error);\n  //     }\n  //   };\n\n  //   fetchTeachers();\n  // }, [lastId]);\n\n  return (\n    <div>\n      {teachers.map(teacher => (\n        <TeacherCard favorites={favorite} key={teacher.id} teacher={teacher} />\n      ))}\n      {teachers.length < allTeachers.length && (\n        <button onClick={onLoadMore}>LOAD MORE</button>\n      )}\n    </div>\n  );\n};\n\nexport default TeachersList;\n","import TeachersList from 'components/TeachersList/TeachersList';\nimport React from 'react';\n\nconst TeachersPage = () => {\n  return (\n    <div>\n      <TeachersList favorite={false} />\n    </div>\n  );\n};\n\nexport default TeachersPage;\n"],"names":["_ref","review","_jsxs","children","_jsx","reviewer_name","reviewer_rating","comment","level","teacher","favorite","user","useAuth","favorites","Array","isArray","isFavorite","some","t","id","src","avatar_url","alt","name","width","lessons_done","rating","price_per_hour","surname","languages","join","lesson_info","experience","reviews","map","index","Review","levels","Level","onClick","updatedFavorites","filter","concat","_toConsumableArray","updateFavorites","alert","_useState","useState","_useState2","_slicedToArray","teachers","setTeachers","_useState3","_useState4","lastId","setLastId","_useState5","_useState6","allTeachers","setAllTeachers","onLoadMore","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","q","snapshot","data","_normalizeData","normalizeData","_context","prev","next","query","ref","database","orderByKey","startAfter","limitToFirst","get","sent","val","exists","Object","entries","_ref3","_ref4","key","value","_objectSpread","length","console","log","stop","apply","arguments","useEffect","fetchTeachers","_ref5","_callee2","teachersRef","_context2","_ref6","_ref7","t0","fetchAllTeachers","_ref8","_callee3","allTeachersRef","allSnapshot","allTeachersData","_context3","forEach","childSnapshot","push","error","TeacherCard","TeachersList"],"sourceRoot":""}