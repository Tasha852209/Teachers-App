{"version":3,"file":"static/js/910.258790ea.chunk.js","mappings":"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","sources":["components/TeacherCard/Review.jsx","components/TeacherCard/Level.jsx","components/TeacherCard/TeacherCard.jsx","components/FavoritesList/FavoritesList.jsx","pages/FavoritesPage/FavoritesPage.jsx"],"sourcesContent":["import React from 'react';\n\nconst Review = ({ review }) => {\n  return (\n    <div>\n      <p>{review.reviewer_name}</p>\n      <p>{review.reviewer_rating}</p>\n      <p>{review.comment}</p>\n    </div>\n  );\n};\n\nexport default Review;\n","import React from 'react';\n\nconst Level = ({ level }) => {\n  return (\n    <div>\n      <span>{level}</span>\n    </div>\n  );\n};\n\nexport default Level;\n","// import React from 'react';\nimport Review from './Review';\nimport Level from './Level';\nimport { updateFavorites } from '../../fire_base/users';\nimport { useAuth } from 'providers';\n\nconst TeacherCard = ({ teacher, favorite }) => {\n  const { user } = useAuth();\n  const favorites = Array.isArray(user?.favorites) ? user.favorites : [];\n\n  const onToggleFavorites = () => {\n    const isFavorite = favorites.some(t => t.id === teacher.id);\n    let updatedFavorites;\n\n    if (isFavorite) {\n      // Видаляємо вчителя зі списку улюблених\n      updatedFavorites = favorites.filter(t => t.id !== teacher.id);\n    } else {\n      // Додаємо вчителя до списку улюблених\n      updatedFavorites = [...favorites, teacher];\n    }\n\n    // Оновлюємо список улюблених у базі даних\n    updateFavorites(user.id, updatedFavorites);\n  };\n\n  const isFavorite = favorites.some(t => t.id === teacher.id);\n\n  return (\n    <section>\n      <div>\n        <img src={teacher.avatar_url} alt={teacher.name} width={50} />\n      </div>\n      <div>\n        <span>Lessons online</span>\n        <span>Lessons done: {teacher.lessons_done}</span>\n        <span>Rating: {teacher.rating}</span>\n        <span>Price/1hour: {teacher.price_per_hour}</span>\n        <span></span>\n      </div>\n      <div>\n        <p>Languages</p>\n        <h2>\n          {teacher.name} {teacher.surname}\n        </h2>\n        <p>Speaks: {teacher.languages.join(', ')}</p>\n        <p>Lesson Info: {teacher.lesson_info}</p>\n        <p>{teacher.experience}</p>\n      </div>\n      <div>\n        {teacher.reviews.map((review, index) => (\n          <Review key={index} review={review} />\n        ))}\n      </div>\n      <div>\n        {teacher.levels.map((level, index) => (\n          <Level key={index} level={level} />\n        ))}\n      </div>\n      {!favorite && (\n        <button onClick={onToggleFavorites}>\n          {isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n        </button>\n      )}\n      <button>Book trial lesson</button>\n    </section>\n  );\n};\n\nexport default TeacherCard;\n","import React, { useEffect, useState } from 'react';\nimport { database } from '../../fire_base/config';\nimport {\n  ref,\n  get,\n  limitToFirst,\n  query,\n  startAfter,\n  orderByKey,\n  remove,\n} from 'firebase/database';\nimport TeacherCard from 'components/TeacherCard/TeacherCard';\nimport { useAuth } from 'providers';\n\nconst PER_PAGE = 4;\n\nconst FavoritesList = ({ favorite }) => {\n  const [favoriteTeachers, setFavoriteTeachers] = useState([]);\n  const [lastId, setLastId] = useState(null);\n  const { user } = useAuth();\n\n  const onLoadMore = async () => {\n    const q = query(\n      ref(database, `users/${user.id}/favorites`),\n      orderByKey(),\n      startAfter(lastId),\n      limitToFirst(PER_PAGE)\n    );\n\n    const snapshot = await get(q);\n    const data = snapshot.val();\n\n    if (snapshot.exists()) {\n      const normalizeData = Object.entries(data).map(([key, value]) => ({\n        id: key,\n        ...value,\n      }));\n      setFavoriteTeachers(prev => [...prev, ...normalizeData]);\n      setLastId(normalizeData[normalizeData.length - 1]?.id);\n    }\n  };\n\n  const fetchFavoriteTeachers = async () => {\n    try {\n      const teachersRef = query(\n        ref(database, 'teachers'),\n        orderByKey(),\n        limitToFirst(PER_PAGE)\n      );\n      const snapshot = await get(teachersRef);\n      const data = snapshot.val();\n\n      if (snapshot.exists()) {\n        const normalizeData = Object.entries(data).map(([key, value]) => ({\n          id: key,\n          ...value,\n        }));\n        setFavoriteTeachers(prev => [...prev, ...normalizeData]);\n        setLastId(normalizeData[normalizeData.length - 1].id);\n      }\n    } catch (error) {\n      console.log('Error fetching teachers:', error);\n    }\n  };\n  useEffect(() => {\n    fetchFavoriteTeachers();\n  }, []);\n\n  const removeFromFavorites = async teacherId => {\n    try {\n      await remove(ref(database, `users/${user.id}/favorites/${teacherId}`));\n      setFavoriteTeachers(prev =>\n        prev.filter(teacher => teacher.id !== teacherId)\n      );\n    } catch (error) {\n      console.log('Error removing teacher from favorites:', error);\n    }\n  };\n\n  const renderFavoriteTeachers = () => {\n    return favoriteTeachers.map(teacher => (\n      <div key={teacher.id}>\n        <TeacherCard favorite={favorite} teacher={teacher} />\n        <button onClick={() => removeFromFavorites(teacher.id)}>\n          Remove from favorites\n        </button>\n      </div>\n    ));\n  };\n\n  return (\n    <div>\n      {renderFavoriteTeachers()}\n      <button onClick={onLoadMore}>LOAD MORE</button>\n    </div>\n  );\n};\n\nexport default FavoritesList;\n","import FavoritesList from 'components/FavoritesList/FavoritesList';\nimport React from 'react';\n\nconst FavoritesPage = () => {\n  return (\n    <div>\n      <FavoritesList favorite={true} />\n    </div>\n  );\n};\n\nexport default FavoritesPage;\n"],"names":["_ref","review","_jsxs","children","_jsx","reviewer_name","reviewer_rating","comment","level","teacher","favorite","user","useAuth","favorites","Array","isArray","isFavorite","some","t","id","src","avatar_url","alt","name","width","lessons_done","rating","price_per_hour","surname","languages","join","lesson_info","experience","reviews","map","index","Review","levels","Level","onClick","updatedFavorites","filter","concat","_toConsumableArray","updateFavorites","_useState","useState","_useState2","_slicedToArray","favoriteTeachers","setFavoriteTeachers","_useState3","_useState4","lastId","setLastId","onLoadMore","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","q","snapshot","data","_normalizeData","normalizeData","_context","prev","next","query","ref","database","orderByKey","startAfter","limitToFirst","get","sent","val","exists","Object","entries","_ref3","_ref4","key","value","_objectSpread","length","stop","apply","arguments","fetchFavoriteTeachers","_ref5","_callee2","teachersRef","_context2","_ref6","_ref7","t0","console","log","useEffect","removeFromFavorites","_ref8","_callee3","teacherId","_context3","remove","_x","TeacherCard","FavoritesList"],"sourceRoot":""}